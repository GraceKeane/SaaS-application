<p id="notice"><%= notice %></p>

<h1>Your Library</h1>



<%= form_tag books_path, method: :get, id: 'genres_form' do %>
  Genre:
  <% @all_genres.each do |genre| %>
    <div class="form-check  form-check-inline">
      <%= label_tag "genres[#{genre}]", genre, class: 'form-check-label' %>
      <%= check_box_tag "genres[#{genre}]", "1", selectedgenre?(genre), id: "genres_#{genre}", class: 'form-check-input' %>
    </div>
  <% end %>
  <%= submit_tag 'Refresh', id: 'genres_submit', :class => 'btn btn-secondary' %>
<% end %>


<table class="table table-striped col-md-12" id="books">
  <thead>
    <tr>
        <th class="<%= hilite("title") %>"> 
            <%= link_to 'Book Title', books_path(:sort => 'title'), id:'title_header' %>
        </th>
        
      <th>Genre</th>
        
      <th>Author</th>
        
      <th>Description</th>
                
      <th class="<%= hilite("release_date") %>"> 
        <%= link_to 'Release Date', books_path(:sort => 'release_date'), id:'release_date_header' %>
      </th>
        
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><%= book.title %></td>
        <td><%= book.genre %></td>
        <td><%= book.author %></td>
        <td><%= book.description %></td>
        <td><%= book.release_date %></td>
        <td><%= link_to 'Show', book %></td>
        <td><%= link_to 'Edit', edit_book_path(book) %></td>
   
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Book', new_book_path, :class => 'btn btn-secondary' %>
